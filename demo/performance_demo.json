{
  "name": "PerformanceDemo",
  "type": "flogo:app",
  "version": "0.0.1",
  "appModel": "1.0.0",
  "triggers": [
    {
      "id": "timer",
      "ref": "github.com/TIBCOSoftware/flogo-contrib/trigger/timer",
      "name": "Timer",
      "description": "Simple Timer trigger",
      "settings": {},
      "handlers": [
        {
          "action": {
            "ref": "github.com/TIBCOSoftware/flogo-contrib/action/flow",
            "data": {
              "flowURI": "res://flow:inc_log"
            }
          },
          "settings": {
            "repeating": "true",
            "notImmediate": "false",
            "seconds": "10"
          }
        }
      ]
    },
    {
      "id": "timer_1",
      "ref": "github.com/TIBCOSoftware/flogo-contrib/trigger/timer",
      "name": "Timer (1)",
      "description": "Simple Timer trigger",
      "settings": {},
      "handlers": [
        {
          "action": {
            "ref": "github.com/TIBCOSoftware/flogo-contrib/action/flow",
            "data": {
              "flowURI": "res://flow:5_logs"
            }
          },
          "settings": {
            "repeating": "true",
            "seconds": "10"
          }
        }
      ]
    }
  ],
  "resources": [
    {
      "id": "flow:inc_log",
      "data": {
        "name": "IncLog",
        "tasks": [
          {
            "id": "StartTimer_2",
            "name": "Start Timer",
            "description": "An activity to return the start time of for the timer.",
            "activity": {
              "ref": "github.com/ewilliams-sl/RTViewFlogo/activity/StartTimer"
            }
          },
          {
            "id": "counter_3",
            "name": "Increment Counter",
            "description": "Simple Global Counter Activity",
            "activity": {
              "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/counter",
              "mappings": {
                "input": [
                  {
                    "type": "assign",
                    "value": "Test",
                    "mapTo": "counterName"
                  }
                ]
              }
            }
          },
          {
            "id": "log_4",
            "name": "Log Message",
            "description": "Simple Log Activity",
            "activity": {
              "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
              "input": {
                "message": "Hello World",
                "flowInfo": false,
                "addToFlow": false
              }
            }
          },
          {
            "id": "UpdateCache_5",
            "name": "Post to RTVcache",
            "description": "Posting data to the RTVcache",
            "activity": {
              "ref": "github.com/ewilliams-sl/UpdateRTView/activity/UpdateCache",
              "input": {
                "Target": "http://10.0.0.17:3270/rtvpost/rtview/json/data/fgFlowPerformance"
              },
              "mappings": {
                "input": [
                  {
                    "type": "assign",
                    "value": "$activity[StartTimer_2].starttime",
                    "mapTo": "StartTime"
                  }
                ]
              }
            }
          }
        ],
        "links": [
          {
            "from": "StartTimer_2",
            "to": "counter_3"
          },
          {
            "from": "counter_3",
            "to": "log_4"
          },
          {
            "from": "log_4",
            "to": "UpdateCache_5"
          }
        ]
      }
    },
    {
      "id": "flow:5_logs",
      "data": {
        "name": "5Logs",
        "tasks": [
          {
            "id": "StartTimer_2",
            "name": "Start Timer",
            "description": "An activity to return the start time of for the timer.",
            "activity": {
              "ref": "github.com/ewilliams-sl/RTViewFlogo/activity/StartTimer"
            }
          },
          {
            "id": "log_3",
            "name": "Log Message",
            "description": "Simple Log Activity",
            "activity": {
              "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
              "input": {
                "message": "Log1",
                "flowInfo": false,
                "addToFlow": false
              }
            }
          },
          {
            "id": "log_4",
            "name": "Log Message (2)",
            "description": "Simple Log Activity",
            "activity": {
              "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
              "input": {
                "message": "Log2",
                "flowInfo": false,
                "addToFlow": false
              }
            }
          },
          {
            "id": "log_5",
            "name": "Log Message (3)",
            "description": "Simple Log Activity",
            "activity": {
              "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
              "input": {
                "message": "log3",
                "flowInfo": false,
                "addToFlow": false
              }
            }
          },
          {
            "id": "log_6",
            "name": "Log Message (4)",
            "description": "Simple Log Activity",
            "activity": {
              "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
              "input": {
                "message": "Log4",
                "flowInfo": false,
                "addToFlow": false
              }
            }
          },
          {
            "id": "log_7",
            "name": "Log Message (5)",
            "description": "Simple Log Activity",
            "activity": {
              "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
              "input": {
                "message": "log5",
                "flowInfo": false,
                "addToFlow": false
              }
            }
          },
          {
            "id": "UpdateCache_8",
            "name": "Post to RTVcache",
            "description": "Posting data to the RTVcache",
            "activity": {
              "ref": "github.com/ewilliams-sl/UpdateRTView/activity/UpdateCache",
              "input": {
                "Target": "http://10.0.0.17:3270/rtvpost/rtview/json/data/fgFlowPerformance"
              },
              "mappings": {
                "input": [
                  {
                    "type": "assign",
                    "value": "$activity[StartTimer_2].starttime",
                    "mapTo": "StartTime"
                  }
                ]
              }
            }
          }
        ],
        "links": [
          {
            "from": "StartTimer_2",
            "to": "log_3"
          },
          {
            "from": "log_3",
            "to": "log_4"
          },
          {
            "from": "log_4",
            "to": "log_5"
          },
          {
            "from": "log_5",
            "to": "log_6"
          },
          {
            "from": "log_6",
            "to": "log_7"
          },
          {
            "from": "log_7",
            "to": "UpdateCache_8"
          }
        ]
      }
    }
  ]
}